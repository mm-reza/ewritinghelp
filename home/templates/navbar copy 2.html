{% load static %}



<nav class="navbar fixed-top navbar-expand-sm" id="myHeader">
    <a class="navbar-brand" href="{% url 'home' %}">Ecom</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>


    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="/contact">Contact Us <span class="sr-only"></span></a>
            </li>            
            <li class="nav-item">
                <a class="nav-link" href="/product/dollar/14"> Estimate <span class="sr-only"></span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href=""> Top-up <span class="sr-only"></span></a>
            </li>
        </ul>

        <div class="form-inline my-2 my-lg-0">
            <!-- <a href="#" class="btn btn-warning">Login</a> -->

            <div class="nav-item dropdown">
                {% if user.id is not None %}
                <div class="form-inline" aria-expanded="true">
                    <img src="{{ user.userprofile.image.url }}"
                        style="border-radius:100% ; height: 3rem; width: 3rem; float: left; margin-right: 15px;">
                    <a href="/user" class="text-uppercase; get-started-btn">{{ user.first_name }}</a>;
                    <a href="/shopcart" class="text-uppercase; get-started-btn">Checkout</a>;
                    <a href="/logout" class="text-uppercase; get-started-btn">Logout</a>
                </div>
                {% else %}
                <a href="/login" class="text-uppercase; get-started-btn">Login</a> 
                <a href="/signup" class="text-uppercase; get-started-btn">Register</a>
                {% endif %}

            </div>


            <!-- Cart -->
           
                <a href="/order/orderproduct">
                        <i class="fa fa-shopping-cart"></i>
                        
                        <span class="qty">{{subtotal}}</span>
                </a>
            <!-- /Cart -->
        </div>
    </div>
</nav>





<style>
    body {
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
    }

    .navbar {
        padding: 20px 10px 20px 0px;
        
        transition: all ease 0.4s;
    }

    .sticky {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 0px 0px 0px 0px;
        transition: all ease 0.4s;
        opacity: 95%;
    }

    .dropdown-toggle::after {
    display:none;
}

</style>

<script>
    // Toggle Animation by Class
    window.onscroll = function () { myFunction() };

    var navbar = document.getElementById("myHeader");
    var sticky = navbar.offsetTop;

    function myFunction() {
        if (window.pageYOffset > sticky) {
            navbar.classList.add("sticky");
        } else {
            navbar.classList.remove("sticky");
        }
    }
</script>

<style>
.navbar-nav {flex-flow: row nowrap;}
.nav-item {padding-right:20px;}
.text-uppercase{
    padding-right: 20px;
}


/* Get Startet Button */
.get-started-btn {
    text-align: center;
    line-height: 30px;
    margin-left: 5px;
    color: #fff;
    border-radius: 50px;
    padding: 3px 15px 5px 15px;
/*     white-space: nowrap;
   transition: 0.3s;  */
    font-size: 14px;
    display: inline-block;
    border: 2px solid #47b2e4;

}

.get-started-btn:hover {
  background: #31a9e1;
  color: #fff;
}

/* @media (max-width: 768px) {
  .get-started-btn {
    margin: 0 5px 0 0;
    padding: 3px 10px 5px 10px;
  } 
}*/
.nav-link, .navbar-brand {
    color:rgb(250, 250, 250) }
.nav-link:hover, .navbar-brand:hover{
color: darkorange;
}
.nav-link.trans, .navbar-brand.trans{
   color:#dce5e9;
}
.nav-link:hover.trans, .navbar-brand:hover.trans{
    color: darkorange;
}
.navbar{
   background:transparent !important;
}
.navbar.trans{
   background:#074663 !important;
}
</style>

<script>
$(window).scroll(function() {
  var offset = $(window).scrollTop();
  console.log(offset);
  $('.navbar').toggleClass('trans', offset > 50);
  $('.nav-link, .navbar-brand').toggleClass('trans', offset > 50);
  $('.nav-link:hover, .navbar-brand:hover').toggleClass('trans', offset > 50);
});
</script>